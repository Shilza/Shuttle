{"version":3,"sources":["components/Fields/Email.js","components/Fields/Confirm.js","components/Welcome/ResetPass/resetPass.module.css","components/Welcome/ResetPass/ResetPass.js"],"names":["Email","_ref","getFieldDecorator","_ref$initialValue","initialValue","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","antd_es_form_FormItem__WEBPACK_IMPORTED_MODULE_5__","rules","type","message","required","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","prefix","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","style","color","placeholder","Confirm","validator","onBlur","module","exports","submit","loginRegisterContainer","ResetPass","props","_this","Object","E_Projects_Shuttle_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","this","E_Projects_Shuttle_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10__","E_Projects_Shuttle_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11__","call","state","loading","handleSubmit","bind","E_Projects_Shuttle_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_12__","handleConfirmBlur","compareToFirstPassword","validateToNextPassword","e","_this2","preventDefault","_this$props","form","match","history","validateFields","err","password","confirm","setState","AuthService","email","params","replace","token","password_confirmation","then","_ref2","data","success","push","catch","error","response","finally","value","target","confirmDirty","rule","callback","getFieldValue","force","antIcon","react__WEBPACK_IMPORTED_MODULE_14___default","antd_es_icon__WEBPACK_IMPORTED_MODULE_7__","fontSize","spin","antd_es_spin__WEBPACK_IMPORTED_MODULE_1__","spinning","indicator","delay","textAlign","antd_es_form__WEBPACK_IMPORTED_MODULE_3__","onSubmit","_Fields_Email__WEBPACK_IMPORTED_MODULE_23__","_Fields_Password__WEBPACK_IMPORTED_MODULE_22__","_Fields_Confirm__WEBPACK_IMPORTED_MODULE_21__","antd_es_form_FormItem__WEBPACK_IMPORTED_MODULE_20__","antd_es_button__WEBPACK_IMPORTED_MODULE_5__","htmlType","className","styles","react_router_dom__WEBPACK_IMPORTED_MODULE_18__","to","React","Component","Page","WrappedResetPass","create","connect","withRouter","pages_Welcome_Welcome__WEBPACK_IMPORTED_MODULE_15__"],"mappings":"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","file":"static/js/10.face41df.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Icon } from 'antd';\r\nimport FormItem from \"antd/es/form/FormItem\";\r\n\r\nconst Email = ({getFieldDecorator, initialValue=''}) => {\r\n    return (\r\n        <FormItem>\r\n            {getFieldDecorator('email', {\r\n                rules: [\r\n                    {type: 'email', message: 'The input is not valid Email!'},\r\n                    {required: true, message: 'Please input your Email!'}\r\n                ],\r\n                initialValue\r\n            })(\r\n                <Input prefix={<Icon type=\"mail\" style={{color: 'rgba(0,0,0,.25)'}}/>} placeholder=\"Email\"/>\r\n            )}\r\n        </FormItem>\r\n    );\r\n};\r\n\r\nEmail.propTypes = {\r\n    getFieldDecorator: PropTypes.func.isRequired,\r\n    initialValue: PropTypes.string\r\n};\r\n\r\nexport default Email;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Icon, Input } from \"antd\";\r\nimport FormItem from \"antd/es/form/FormItem\";\r\n\r\nconst Confirm = ({getFieldDecorator, validator, onBlur}) => {\r\n    return (\r\n        <FormItem>\r\n            {getFieldDecorator('confirm', {\r\n                rules: [{\r\n                    required: true, message: 'Please confirm your password!'\r\n                },\r\n                    {validator}\r\n                ]\r\n            })(\r\n                <Input prefix={<Icon type=\"eye\" style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                       type=\"password\" placeholder=\"Confirm password\" onBlur={onBlur}/>\r\n            )}\r\n        </FormItem>\r\n    );\r\n};\r\n\r\nConfirm.propTypes = {\r\n    getFieldDecorator: PropTypes.func.isRequired,\r\n    onBlur: PropTypes.func,\r\n    validator: PropTypes.func\r\n};\r\n\r\nexport default Confirm;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit\":\"resetPass_submit__2OmHY\",\"loginRegisterContainer\":\"resetPass_loginRegisterContainer__17ohp\"};","import React from \"react\";\nimport Welcome from \"pages/Welcome/Welcome\";\nimport {connect} from \"react-redux\";\nimport {message} from \"antd/lib/index\";\nimport {Link, withRouter} from 'react-router-dom'\nimport {Button, Form, Icon, Spin} from \"antd\";\nimport FormItem from \"antd/es/form/FormItem\";\nimport Confirm from \"../../Fields/Confirm\";\nimport Password from \"../../Fields/Password\";\nimport Email from \"../../Fields/Email\";\nimport * as AuthService from 'services/auth';\nimport styles from './resetPass.module.css';\n\nclass ResetPass extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleConfirmBlur = this.handleConfirmBlur.bind(this);\n    this.compareToFirstPassword = this.compareToFirstPassword.bind(this);\n    this.validateToNextPassword = this.validateToNextPassword.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const {form, match, history} = this.props;\n    form.validateFields((err, {password, confirm}) => {\n      if (!err) {\n        this.setState({loading: true});\n        AuthService.updatePassword({\n          email: match.params.email.replace(\"29gnmLTv686QsnV\", \"@\"),\n          token: match.params.token,\n          password_confirmation: confirm,\n          password,\n        })\n          .then(({data}) => {\n            message.success(data.message);\n            history.push('/');\n          })\n          .catch(err => {\n            message.error(err.response.data.message);\n          })\n          .finally(() => {\n            this.setState({loading: false});\n          });\n      }\n    });\n  }\n\n  handleConfirmBlur(e) {\n    const value = e.target.value;\n    this.setState({confirmDirty: this.state.confirmDirty || !!value});\n  }\n\n  compareToFirstPassword(rule, value, callback) {\n    const form = this.props.form;\n    if (value && value !== form.getFieldValue('password')) {\n      callback('Two passwords that you enter is inconsistent!');\n    } else {\n      callback();\n    }\n  }\n\n  validateToNextPassword(rule, value, callback) {\n    const form = this.props.form;\n    if (value && this.state.confirmDirty) {\n      form.validateFields(['confirm'], {force: true});\n    }\n    callback();\n  }\n\n  render() {\n    const {getFieldDecorator} = this.props.form;\n    const antIcon = <Icon type=\"loading\" style={{fontSize: 24}} spin/>;\n\n    return (\n      <Spin spinning={this.state.loading} indicator={antIcon} delay={150}>\n        <h1 style={{textAlign: 'center'}}>Reset password</h1>\n        <Form onSubmit={this.handleSubmit}>\n          <Email\n            getFieldDecorator={getFieldDecorator}\n            initialValue={this.props.match.params.email.replace(\"29gnmLTv686QsnV\", \"@\")}\n          />\n          <Password\n            getFieldDecorator={getFieldDecorator}\n            validator={this.validateToNextPassword}\n          />\n          <Confirm\n            getFieldDecorator={getFieldDecorator}\n            validator={this.compareToFirstPassword}\n            onBlur={this.handleConfirmBlur}\n          />\n          <FormItem>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              className={styles.submit}\n            >\n              Reset\n            </Button>\n            <div className={styles.loginRegisterContainer}>\n              <Link to={'/'}>Log in</Link>\n              <Link to={'/register'}>Register</Link>\n            </div>\n          </FormItem>\n        </Form>\n      </Spin>\n    );\n  }\n}\n\nconst Page = props => {\n  const WrappedResetPass = Form.create()(connect()(withRouter(ResetPass)));\n  return <Welcome><WrappedResetPass {...props}/></Welcome>\n};\n\nexport default Page;\n"],"sourceRoot":""}