(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{107:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"auth",function(){return v}),n.d(a,"users",function(){return k}),n.d(a,"posts",function(){return B}),n.d(a,"edit",function(){return A}),n.d(a,"search",function(){return L}),n.d(a,"saved",function(){return T}),n.d(a,"notifications",function(){return z}),n.d(a,"blacklist",function(){return W});var r=n(554),c=n(50),o=n(14),s=n.n(o),i=n(25),u=n(26),l=n(13),f=n(18),m=n(237),d=n(152),p=n(66);var h={isAuthenticated:!1,user:{}},v={state:h,reducers:{login:function(e,t){var n=t;return n.private=!!n.private,Object(l.a)({},e,{isAuthenticated:!0,user:n})},updateAvatar:function(e,t){return e=Object(l.a)({},e,{user:Object(l.a)({},e.user,{avatar:t})})},readDialog:function(e,t){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{unreadDialogs:e.user.unreadDialogs.filter(function(e){return e!==t})})})},addUnreadDialog:function(e,t){var n;return n=e.user.unreadDialogs.some(function(e){return e===t})?e.user.unreadDialogs:[].concat(Object(u.a)(e.user.unreadDialogs),[t]),Object(l.a)({},e,{user:Object(l.a)({},e.user,{unreadDialogs:n})})},setUser:function(e,t){var n=t;return n.private=!!n.private,Object(l.a)({},e,{user:n})},resetNotifications:function(e){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{notificationsCount:0})})},reset:function(){return h}},effects:function(e){return{authentication:function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.c();case 2:n=t.sent,a=n.data,e.auth.login(a.user);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),loginAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r,o,i,u,l,p,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.remember,r=Object(c.a)(n,["remember"]),t.next=3,d.a(r);case 3:o=t.sent,i=o.data,u=i.token,l=i.expiresIn,p=i.refreshToken,h=i.user,a&&Object(m.a)(l,u,p),f.a.defaults.headers.common.Authorization="Bearer ".concat(u),e.auth.login(h);case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),logoutAsync:function(){var t=Object(i.a)(s.a.mark(function t(n,a){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b();case 2:localStorage.removeItem("expiresIn"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Object.keys(a).forEach(function(t){return e[t].reset()});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),update:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r,c,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.editedData,r=n.history,t.next=3,p.m(a);case 3:return c=t.sent,o=c.data,r.push(o.user.username),e.auth.setUser(o.user),e.users.setUser(Object(l.a)({},o.user,{canSee:!0,blacklisted:!1,amBlacklisted:!1})),t.abrupt("return",o);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},b=n(190),g=n(19),_=function(e){return f.a.post("".concat(g.a.friendships,"/follow"),e)},O=function(e){return f.a.post("".concat(g.a.friendships,"/unfollow"),e)},j=function(e){return f.a.delete("".concat(g.a.friendships,"/follower?id=").concat(e))},E={user:void 0,followers:[],follows:[]},k={state:E,reducers:{setUser:function(e,t){return t.hasOwnProperty("__meta__")&&(Object.keys(t.__meta__).forEach(function(e){return t[e]=t.__meta__[e]}),delete t.__meta__),t.private=!!t.private,Object(l.a)({},e,{user:t,follows:[],followers:[]})},decrementsPostsCount:function(e){var t=Object(l.a)({},e.user);return t.posts_count--,Object(l.a)({},e,{user:t})},incrementsPostsCount:function(e){var t=Object(l.a)({},e.user);return t.posts_count++,Object(l.a)({},e,{user:t})},addFollowers:function(e,t){return Object(l.a)({},e,{followers:Object(b.a)([].concat(Object(u.a)(e.followers),Object(u.a)(t)))})},addFollows:function(e,t){return Object(l.a)({},e,{follows:Object(b.a)([].concat(Object(u.a)(e.follows),Object(u.a)(t)))})},setFollowers:function(e,t){return Object(l.a)({},e,{followers:t})},setFollows:function(e,t){return Object(l.a)({},e,{follows:t})},follow:function(e){var t=Object(l.a)({},e.user);return t.friendshipState=t.private?1:2,t.private||t.followers_count++,Object(l.a)({},e,{user:t})},unfollow:function(e,t){var n=Object(l.a)({},e.user);return 1!==n.friendshipState&&n.followers_count--,n.friendshipState=0,Object(l.a)({},e,{user:n,follows:e.follows.filter(function(e){return e.id!==t})})},updateAvatar:function(e,t){return e=Object(l.a)({},e,{user:Object(l.a)({},e.user,{avatar:t})})},deleteAvatar:function(e){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{avatar:null})})},setPrivate:function(e){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{private:!0})})},setPublic:function(e){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{private:!1})})},setBlacklisted:function(e){var t=Object(l.a)({},e.user);return t.blacklisted=!0,Object(l.a)({},e,{user:t})},setUnblacklisted:function(e){var t=Object(l.a)({},e.user);return t.blacklisted=!1,Object(l.a)({},e,{user:t})},removeFollower:function(e,t){return Object(l.a)({},e,{user:Object(l.a)({},e.user,{followers_count:e.user.followers_count-1}),followers:e.followers.filter(function(e){return e.id!==t})})},reset:function(){return E}},effects:function(e){return{getUser:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.g(n);case 2:a=t.sent,r=a.data,e.users.setUser(r);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),followAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n);case 2:e.users.follow();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),unfollowAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(n);case 2:e.users.unfollow(n.id);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),setPrivateAsync:function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.k();case 2:return n=t.sent,a=n.data,e.users.setPrivate(),t.abrupt("return",a.message);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),setPublicAsync:function(){var t=Object(i.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.l();case 2:return n=t.sent,a=n.data,e.users.setPublic(),t.abrupt("return",a.message);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),updateAvatarAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.n(n);case 2:return a=t.sent,r=a.data,e.users.updateAvatar(r.avatar),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),deleteAvatarAsync:function(){var t=Object(i.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.c();case 2:e.users.deleteAvatar();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),removeFollowerAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n);case 2:e.users.removeFollower(n);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},w=n(191),y=n(91),x=n(72),C=function(e){return f.a.get("".concat(g.a.feed,"?page=").concat(e))},N={user:[],feed:[],liked:[],marked:[],saved:[],archived:[],postByCode:[]},S=function(e,t){return Object.keys(e).reduce(function(e,n){return Object(l.a)({},e,Object(w.a)({},n,t(n)))},{})},B={state:N,reducers:{add:function(e,t){var n=t.key,a=t.post;return Object(l.a)({},e,Object(w.a)({},n,[a].concat(Object(u.a)(e[n]))))},addUser:function(e,t){return Object(l.a)({},e,{user:[].concat(Object(u.a)(e.user),Object(u.a)(Object(y.a)(t)))})},addFeed:function(e,t){return Object(l.a)({},e,{feed:[].concat(Object(u.a)(e.feed),Object(u.a)(Object(y.a)(t)))})},addMarked:function(e,t){return Object(l.a)({},e,{marked:[].concat(Object(u.a)(e.marked),Object(u.a)(Object(y.a)(t)))})},addSaved:function(e,t){return Object(l.a)({},e,{saved:[].concat(Object(u.a)(e.saved),Object(u.a)(Object(y.a)(t)))})},addLiked:function(e,t){return Object(l.a)({},e,{liked:[].concat(Object(u.a)(e.liked),Object(u.a)(Object(y.a)(t)))})},addArchived:function(e,t){return Object(l.a)({},e,{archived:[].concat(Object(u.a)(e.archived),Object(u.a)(Object(y.a)(t)))})},setByCode:function(e,t){return Object(l.a)({},e,{postByCode:Object(y.a)(t)})},update:function(e,t){var n=function(e){return e.id===t.id?Object(y.a)([t])[0]:e};return S(N,function(t){return e[t].map(n)})},remove:function(e,t){var n=function(e){return e.id!==t};return S(N,function(t){return e[t].filter(n)})},like:function(e,t){var n=function(e){return e.id===t?(e.isLiked=!0,e.likes_count++,Object(l.a)({},e)):e};return S(N,function(t){return e[t].map(n)})},unLike:function(e,t){var n=function(e){return e.id===t?(e.isLiked=!1,e.likes_count--,Object(l.a)({},e)):e};return S(N,function(t){return e[t].map(n)})},removeSaved:function(e,t){var n=function(e){return e.id===t?(e.isSaved=!1,Object(l.a)({},e)):e};return S(N,function(t){return e[t].map(n)})},save:function(e,t){var n=function(e){return e.id===t?(e.isSaved=!0,Object(l.a)({},e)):e};return S(N,function(t){return e[t].map(n)})},addToArchive:function(e,t){var n=function(e){return e.id!==t};return e.postByCode.length&&(e.postByCode=[Object(l.a)({},e.postByCode,{isArchived:!0})]),S(N,function(t){return"postByCode"!==t?e[t].filter(n):e[t]})},removeFromArchive:function(e,t){return e.postByCode.length&&(e.postByCode=[Object(l.a)({},e.postByCode,{isArchived:!1})]),Object(l.a)({},e,{archived:e.archived.filter(function(e){return e.id!==t})})},resetUsers:function(e){return Object(l.a)({},e,{user:[]})},resetMarked:function(e){return Object(l.a)({},e,{marked:[]})},resetSaved:function(e){return Object(l.a)({},e,{saved:[]})},resetFeed:function(e){return Object(l.a)({},e,{feed:[]})},reset:function(){return N}},effects:function(e){return{create:function(){var t=Object(i.a)(s.a.mark(function t(n,a){var r,c,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.b(n);case 2:return r=t.sent,c=r.data,""===(o=window.location.href.split("/"))[o.length-1]?e.posts.add({key:"feed",post:c.post}):o.length>=1&&o[o.length-1]===a.auth.user.username&&e.posts.add({key:"user",post:c.post}),t.abrupt("return",c);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),removeAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.j(n);case 2:return a=t.sent,r=a.data,e.posts.remove(n),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),fetchFeed:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(n);case 2:return a=t.sent,r=a.data,e.posts.addFeed(r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),fetchArchived:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.c(n);case 2:return a=t.sent,r=a.data,e.posts.addArchived(r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),fetchLiked:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.d(n);case 2:return a=t.sent,r=a.data,e.posts.addLiked(r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),updateAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.n(n);case 2:return a=t.sent,r=a.data,e.posts.update(r.post),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),getPostByCode:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.g(n);case 2:a=t.sent,r=a.data,e.posts.setByCode([r.post]);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),saveAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.m(n);case 2:e.posts.save(n.post_id),e.saved.setPostToBeSaved(void 0),e.saved.setIsSavedTimeout(!1);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),removeSavedPost:function(){var t=Object(i.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.l(n);case 2:return a=t.sent,e.posts.removeSaved(n),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),addToArchiveAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a(n);case 2:return a=t.sent,e.posts.addToArchive(n),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),removeFromArchiveAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.k(n);case 2:return a=t.sent,e.posts.removeFromArchive(n),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},I={isSearchFocused:!1},L={state:I,reducers:{setIsSearchFocused:function(e,t){return Object(l.a)({},e,{isSearchFocused:t})},reset:function(){return I}}},R={visible:!1,username:void 0,bio:void 0,site:void 0},A={state:R,reducers:{setVisible:function(e,t){return Object(l.a)({},e,{visible:t})},setName:function(e,t){return Object(l.a)({},e,{username:t})},setBio:function(e,t){return Object(l.a)({},e,{bio:t})},setSite:function(e,t){return Object(l.a)({},e,{site:t})},reset:function(){return R}},effects:function(e){return{}}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f.a.get("".concat(g.a.compilations,"?page=").concat(e))},F={compilations:[],isSavedTimeout:!1,postToBeSaved:void 0,isModalOpen:!1},T={state:F,reducers:{addCompilations:function(e,t){return Object(l.a)({},e,{compilations:t})},setIsModalOpen:function(e,t){return Object(l.a)({},e,{isModalOpen:t})},removeCompilation:function(e){return Object(l.a)({},e,{compilations:void 0})},setIsSavedTimeout:function(e,t){return Object(l.a)({},e,{isSavedTimeout:t})},setPostToBeSaved:function(e,t){return Object(l.a)({},e,{postToBeSaved:t})},reset:function(){return F}},effects:function(e){return{fetchCompilations:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(n);case 2:return a=t.sent,r=a.data,e.saved.addCompilations(r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},U=function(e){return f.a.get("".concat(g.a.notifications,"?page=").concat(e))},M=[],z={state:[],reducers:{addNotifications:function(e,t){return[].concat(Object(u.a)(e),Object(u.a)(t))},reset:function(){return M}},effects:function(e){return{get:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n);case 2:return a=t.sent,r=a.data,e.notifications.addNotifications(r.data),e.auth.resetNotifications(),t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},D={users:[]},W={state:D,reducers:{setBlacklistedUsers:function(e,t){return Object(l.a)({},e,{users:t})},removeFromBlacklist:function(e,t){return Object(l.a)({},e,{users:e.users.filter(function(e){return e.id!==t})})},reset:function(){return D}},effects:function(e){return{getBlacklisted:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.d(n);case 2:return a=t.sent,r=a.data,e.blacklist.setBlacklistedUsers(r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),addToBlacklist:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a(n);case 2:return a=t.sent,r=a.data,e.users.setBlacklisted(),t.abrupt("return",r.message);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),removeFromBlacklistAsync:function(){var t=Object(i.a)(s.a.mark(function t(n){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.h(n);case 2:return a=t.sent,r=a.data,e.users.setUnblacklisted(),e.blacklist.removeFromBlacklist(n),t.abrupt("return",r.message);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}},q=Object(r.init)({models:a});t.a=q},1198:function(e,t,n){"use strict";n.r(t);n(579),n(581),n(583),n(585);var a=n(1),r=n.n(a),c=n(7),o=n(37),s=n(22),i=n(1458),u=n(1462),l=Object(a.lazy)(function(){return n.e(5).then(n.bind(null,1448))}),f=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(20),n.e(2),n.e(6)]).then(n.bind(null,1452))}),m=[{path:"/",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,1455))})},{path:"/",exact:!0,auth:!1,component:l},{path:"/login",exact:!0,auth:!1,component:l},{path:"/register",exact:!0,auth:!1,component:Object(a.lazy)(function(){return n.e(8).then(n.bind(null,1449))})},{path:"/password-reset",exact:!0,auth:!1,component:Object(a.lazy)(function(){return n.e(9).then(n.bind(null,1450))})},{path:"/:username",exact:!0,auth:!0,component:f},{path:"/password-update/:token/:email",exact:!0,auth:!1,component:Object(a.lazy)(function(){return n.e(10).then(n.bind(null,1451))})},{path:"/p/:code",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,1459))})},{path:"/posts/archive",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,1460))})},{path:"/posts/liked",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,1461))})},{path:"/account/blacklist",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,1457))})},{path:"/account/notifications",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,1454))})},{path:"/u/messages",exact:!0,auth:!0,component:Object(a.lazy)(function(){return n.e(16).then(n.bind(null,1456))})},{path:"/u/messages/:username",exact:!0,auth:!0,component:Object(a.lazy)(function(){return Promise.all([n.e(1),n.e(19),n.e(17)]).then(n.bind(null,1453))})},{path:"*",exact:!0,auth:!1,component:l}],d=(n(59),n(17)),p=n(343),h=n.n(p),v=function(){return r.a.createElement("div",{className:h.a.container},r.a.createElement("h1",null,"Shuttle"),r.a.createElement(d.a,{type:"loading",className:h.a.loader}))},b=n(50),g=n(675),_=n(567),O=n(132),j=n(243),E=n.n(j),k=function(e){var t=e.children;return r.a.createElement("main",{className:E.a.container},r.a.createElement("div",{className:Object(O.a)()?E.a.mobileChildren:E.a.children},t))},w=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.component,n=e.isAuthenticated,a=Object(b.a)(e,["component","isAuthenticated"]);return r.a.createElement(g.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(_.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(k,null,r.a.createElement(t,e))}}))}),y=(n(573),n(535)),x=n(1446),C=n(532),N=n(529),S=n(195),B=n.n(S),I=Object(o.b)(function(e){return{notificationsCount:e.auth.user.notificationsCount}})(function(e){var t=e.notificationsCount,n=e.dispatch,a={color:"rgba(0, 0, 0, .7)"},c={color:"rgba(0, 0, 0, .7)"};return window.location.href===window.location.origin+"/"?a.color="#096dd9":window.location.href.includes("notifications")&&(c.color="#096dd9"),r.a.createElement("div",{className:B.a.toolbar},r.a.createElement(x.a,{to:"/",style:a},r.a.createElement(d.a,{type:"fire"})),r.a.createElement(d.a,{type:"search",className:B.a.icon,onClick:function(){n.search.setIsSearchFocused(!0)}}),r.a.createElement(N.a,{trigger:r.a.createElement(d.a,{type:"plus",className:B.a.icon})}),r.a.createElement(x.a,{to:"/account/notifications",style:c},r.a.createElement(y.a,{dot:0!==t},r.a.createElement(d.a,{type:"bell"}))),r.a.createElement(C.a,{trigger:r.a.createElement(d.a,{type:"align-right",className:B.a.icon})}))}),L=n(239),R=n.n(L),A=n(526),P=n.n(A),F=n(0),T=n.n(F),U=n(160),M=n(564),z=n(94),D=n(78),W=n.n(D),q=function(e){var t=e.username,n=e.avatar,a=e.bio,c=e.closeBar;return r.a.createElement(x.a,{to:"/"+t,onClick:c,className:W.a.user},n?r.a.createElement("img",{className:W.a.avatar,src:n,alt:"avatar"}):r.a.createElement("div",{className:W.a.avatar},r.a.createElement(z.a,{fontSize:"26px"})),r.a.createElement("div",{className:W.a.userInfo},r.a.createElement("span",{className:W.a.username},t),r.a.createElement("span",{className:W.a.bio},a)))},V=n(196),X=function(e){var t=e.users,n=e.fetcher,c=e.closeBar,o=Object(a.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],f=Object(a.useCallback)(function(e){return n&&n(e).then(function(e){return u||l(!0),e})},[n]);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",{className:W.a.usersList},r.a.createElement(V.a,{fetcher:f},r.a.createElement("div",{className:W.a.container},t.map(function(e){return r.a.createElement(q,{closeBar:c,key:e.id,username:e.username,avatar:e.avatar,bio:e.bio})})))),u&&0===t.length&&r.a.createElement("div",{className:W.a.nothingToShow},"Nothing to show"))},G=n(560),H=n.n(G),J=function(e){var t=e.makeBarInvisible,n=e.users,c=e.fetcher,o=e.closeBar,s=Object(a.useRef)(null);return Object(M.a)(s,t),r.a.createElement("div",{className:H.a.searchBar,ref:s},r.a.createElement(X,{users:n,closeBar:o,fetcher:c}))},Y=n(192),Z=n.n(Y),K=function(e){var t=e.search,n=e.onBlur,a=e.onFocus,c=e.searchRef;return r.a.createElement("div",{className:Z.a.search},r.a.createElement("div",{className:Z.a.searchBox},r.a.createElement("input",{type:"text",onChange:t,ref:c,onBlur:n,onFocus:a,maxLength:12}),r.a.createElement("span",null)))};K.propTypes={search:T.a.func.isRequired};var Q=Object(o.b)(function(e){return{isSearchFocused:e.search.isSearchFocused}})(function(e){var t=e.dispatch,n=e.isSearchFocused,c=Object(a.useState)(!1),o=Object(s.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(null),f=Object(s.a)(l,2),m=f[0],d=f[1],p=Object(U.a)(),h=p.users,v=p.search,b=p.resetSearch,g=Object(a.useRef)();Object(a.useEffect)(function(){n&&g.current.focus()},[n]);var _=function(){g.current.value="",t.search.setIsSearchFocused(!1)};return r.a.createElement("div",{className:Z.a.container},r.a.createElement(K,{search:function(e){u(!0),t.search.setIsSearchFocused(!0);var n=e.target.value;n.length>0?d(function(){return function(e){return v(n,e)}}):(b(),d(null))},searchRef:g,onBlur:_,onFocus:function(){t.search.setIsSearchFocused(!0)}}),i&&r.a.createElement(J,{makeBarInvisible:function(e){u(!1),_(),g.current.value="",b()},closeBar:function(){u(!1)},fetcher:m,users:h}))}),$=n(93),ee=n.n($),te=Object(o.b)(function(e){return{username:e.auth.user.username,avatar:e.auth.user.avatar,countOfUnreadMessages:e.auth.user.unreadDialogs&&e.auth.user.unreadDialogs.length}})(function(e){var t=e.username,n=e.avatar,a=e.countOfUnreadMessages;return r.a.createElement("div",{className:ee.a.header},r.a.createElement(x.a,{to:"/",className:ee.a.logo},r.a.createElement("img",{src:R.a,alt:"Shuttle logo"})),r.a.createElement(Q,null),r.a.createElement("div",{className:ee.a.rightContainer},r.a.createElement(x.a,{to:"/u/messages",className:ee.a.messagesLink,countofunreadmessages:a},r.a.createElement("img",{src:P.a,alt:"messages",className:ee.a.messagesIcon})),!Object(O.a)()&&r.a.createElement(x.a,{to:"/"+t,className:ee.a.username},n?r.a.createElement("img",{src:n,alt:"avatar",className:ee.a.avatar}):r.a.createElement("div",{className:ee.a.avatar},r.a.createElement(z.a,{fontSize:"16px"})))))}),ne=n(357),ae=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.component,n=e.isAuthenticated,a=Object(b.a)(e,["component","isAuthenticated"]);return r.a.createElement(g.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(k,null,r.a.createElement(te,null),r.a.createElement(t,e),Object(O.a)()&&r.a.createElement(I,null)):r.a.createElement(ne.a,null)}}))}),re=function(){return r.a.createElement(i.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(v,null)},r.a.createElement(u.a,null,m.map(function(e,t){return e.auth?r.a.createElement(ae,Object.assign({key:t},e)):r.a.createElement(w,Object.assign({key:t},e))}))))},ce=n(561),oe=n.n(ce),se=function(){return r.a.createElement("div",{className:oe.a.container},r.a.createElement("ul",null,r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null)))},ie=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.isAuthenticated,n=e.dispatch,c=Object(a.useState)(null),o=Object(s.a)(c,2),i=o[0],u=o[1];return i?r.a.createElement("div",null,i.toString()):!t&&localStorage.hasOwnProperty("accessToken")?(n.auth.authentication().catch(function(e){return u(e)}),r.a.createElement(se,null)):r.a.createElement(re,null)}),ue=n(133),le=n(134),fe=n(137),me=n(135),de=n(136),pe=n(352),he=n.n(pe),ve=function(e){function t(e){var n;return Object(ue.a)(this,t),(n=Object(fe.a)(this,Object(me.a)(t).call(this,e))).reloadPage=function(){window.location.reload()},n.state={hasError:!1},n}return Object(de.a)(t,e),Object(le.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{className:he.a.container},r.a.createElement("h1",null,"Something went wrong"),r.a.createElement("button",{onClick:this.reloadPage,className:he.a.reloadButton},"Reload")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),be=n(107),ge=n(359),_e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(c.render)(r.a.createElement(ve,null,r.a.createElement(o.a,{store:be.a},r.a.createElement(ie,null))),document.getElementById("root")),ge.b(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");_e?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Oe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Oe(t,e)})}}()},128:function(e,t,n){e.exports={wrapper:"filters_wrapper__1bhkY",media:"filters_media__2YJpI",iconsContainer:"filters_iconsContainer__1ym1L",icon:"filters_icon__oVGHY"}},130:function(e,t,n){e.exports={container:"finish_container__1BPw-",imageContainer:"finish_imageContainer__2tC3B",media:"finish_media__1J9G0",caption:"finish_caption__3UMdz",button:"finish_button__1I_pt"}},132:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=/Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(navigator.userAgent),r=function(){return a}},152:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return m});var a=n(237),r=n(18),c=n(19),o=function(e){return r.a.post("".concat(c.a.auth,"/login"),e)},s=function(){return r.a.post("".concat(c.a.auth,"/logout"),{refreshToken:localStorage.getItem("refreshToken")})},i=function(){return r.a.post("".concat(c.a.auth,"/me"))},u=function(e){return r.a.post("".concat(c.a.auth,"/password/reset"),e)},l=function(e){return r.a.post("".concat(c.a.auth,"/password/update"),e)},f=function(e){return r.a.post("".concat(c.a.auth,"/register"),e)},m=function(){return r.a.post("".concat(c.a.auth,"/refresh"),{refreshToken:localStorage.getItem("refreshToken")}).then(function(e){var t=e.data,n=t.token,c=t.expiresIn,o=t.refreshToken;return Object(a.a)(c,n,o),r.a.defaults.headers.common.Authorization="Bearer ".concat(n),t})}},160:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(22),r=n(26),c=n(13),o=n(1),s=n(190),i=n(361),u={users:[]},l="SET_USERS",f="ADD_USERS";function m(e,t){switch(t.type){case l:return Object(c.a)({},e,{users:t.payload});case f:return Object(c.a)({},e,{users:Object(s.a)([].concat(Object(r.a)(e.users),Object(r.a)(t.payload)))})}}var d=function(e){return{type:l,payload:e}},p=function(){var e=Object(o.useReducer)(m,u),t=Object(a.a)(e,2),n=t[0].users,r=t[1],c=Object(o.useRef)(null);return{users:n,search:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>0)return i.b(e,t).then(function(t){var n,a=t.data;return r(c.current===e?(n=a.data,{type:f,payload:n}):d(a.data)),c.current=e,a});r(d([]))},resetSearch:function(){r(d([]))}}}},165:function(e,t,n){e.exports={container:"user_container__rixlx",avatar:"user_avatar__2Wlqp",username:"user_username__3zBOR",close:"user_close__Xk6Tc"}},166:function(e,t,n){e.exports={welcome:"welcome_welcome__1KkNd",companyInfo:"welcome_companyInfo__3xLjX",logoContainer:"welcome_logoContainer__3X2b4",title:"welcome_title__3DQP2",card:"welcome_card__t6iWz",logo:"welcome_logo__2vkP2"}},18:function(e,t,n){"use strict";var a=n(14),r=n.n(a),c=n(25),o=n(110),s=n.n(o),i=n(107),u=n(152),l=n(27),f=n.n(l),m=document.head.querySelector('meta[name="csrf-token"]');s.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",s.a.defaults.headers.common["X-CSRF-TOKEN"]=m.content,s.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),s.a.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status&&i.a.dispatch.auth.logout(),Promise.reject(e)});var d=!1;s.a.interceptors.request.use(function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(localStorage.hasOwnProperty("expiresIn")&&localStorage.getItem("expiresIn")<f()().format("X"))||d){e.next=6;break}return d=!0,e.next=4,u.d().catch(function(){throw new s.a.Cancel});case 4:d=!1,t.headers.Authorization="Bearer ".concat(localStorage.getItem("accessToken"));case 6:return e.abrupt("return",Promise.resolve(t));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.a=s.a},19:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c});var a=n(22),r=function(e){return Object.entries(e).reduce(function(e,t){var n=Object(a.a)(t,2),r=n[0],c=n[1];return e[r]="".concat("/api/v1/").concat(c),e},{})}({auth:"auth",posts:"posts",compilations:"compilations",comments:"comments",like:"like",unlike:"unlike",feed:"feed",users:"users",notifications:"notifications",friendships:"friendships",search:"search",privateSearch:"privateSearch",dialogs:"dialogs",subRequests:"subRequests"}),c="1ec02de7980a2e883d109e090cc9c32b"},190:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=new Map,a=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var i=o.value;n.has(i.id)||(n.set(i.id,!0),t.push(i))}}catch(u){r=!0,c=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw c}}return t}},192:function(e,t,n){e.exports={container:"search_container__8sqpw",search:"search_search__cH90U",searchBox:"search_searchBox__2kDlm"}},194:function(e,t,n){e.exports={container:"header_container__2yw_o",title:"header_title__2a4k5",next:"header_next__ZvxXG"}},195:function(e,t,n){e.exports={toolbar:"toolbar_toolbar__1ON2v",icon:"toolbar_icon__2HvBs"}},196:function(e,t,n){"use strict";var a=n(354);n.d(t,"a",function(){return a.a})},224:function(e,t,n){"use strict";n(59);var a=n(17),r=n(22),c=n(50),o=n(1),s=n.n(o),i=n(553),u=n.n(i),l=s.a.memo(function(e){var t=e.search,n=e.className,i=Object(c.a)(e,["search","className"]),l=Object(o.useRef)(null),f=Object(o.useState)(!1),m=Object(r.a)(f,2),d=m[0],p=m[1];return s.a.createElement("div",{className:"".concat(u.a.searchContainer," ").concat(n)},s.a.createElement(a.a,{type:"search"}),s.a.createElement("input",Object.assign({ref:l,placeholder:"Search",maxLength:"32",onChange:function(e){p(e.target.value.length>0),t(e.target.value)}},i)),d&&s.a.createElement(a.a,{type:"close",onClick:function(){l.current.value="",t("")}}))});t.a=l},237:function(e,t,n){"use strict";function a(e,t,n){localStorage.setItem("accessToken",t),localStorage.setItem("expiresIn",e),localStorage.setItem("refreshToken",n)}n.d(t,"a",function(){return a})},239:function(e,t,n){e.exports=n.p+"static/media/logo.85ce3153.png"},242:function(e,t,n){"use strict";n(59);var a=n(17),r=n(1),c=n.n(r),o=n(1446),s=n(94),i=n(165),u=n.n(i),l=function(e){var t=e.user,n=e.onClick,r=e.remove;return c.a.createElement(o.a,{to:"/".concat(t.username),onClick:n,className:u.a.container},t.avatar?c.a.createElement("img",{className:u.a.avatar,src:t.avatar,alt:"Avatar"}):c.a.createElement(s.a,{className:u.a.avatar,fontSize:"22px"}),c.a.createElement("span",{className:u.a.username},t.username),r&&c.a.createElement(a.a,{type:"close",onClick:r,className:u.a.close}))};n.d(t,"a",function(){return l})},243:function(e,t,n){e.exports={container:"main_container__1Y0YZ",mobileChildren:"main_mobileChildren__2JBo7",children:"main_children__1rd6D"}},244:function(e,t,n){e.exports={container:"usersList_container__3EBzp",list:"usersList_list__Ef4an",nothingToShow:"usersList_nothingToShow__2dQer"}},245:function(e,t,n){e.exports={rememberForgotContainer:"login_rememberForgotContainer__2UUpL",loginRegisterContainer:"login_loginRegisterContainer__1spnR",login:"login_login__1e7cX"}},330:function(e,t,n){"use strict";var a=n(50),r=n(1),c=n.n(r),o=n(1446),s=n(350),i=n.n(s);t.a=function(e){var t=e.mark,n=e.link,s=void 0!==n&&n,u=e.text,l=void 0===u?"Who is it?":u,f=Object(a.a)(e,["mark","link","text"]),m=Object(r.useRef)(null),d={top:"".concat(t.top,"%"),left:"".concat(t.left,"%")};return Object(r.useEffect)(function(){var e=parseInt(getComputedStyle(m.current.parentNode).getPropertyValue("width")),n=e/100,a=parseInt(getComputedStyle(m.current).getPropertyValue("width")),r=n*t.left+a;if(r>e){var c=Math.abs(e-r)/n;m.current.style.left="".concat(t.left-c-1,"%")}t.top<1&&(m.current.style.top="1%")},[]),c.a.createElement(c.a.Fragment,null,s?c.a.createElement(o.a,Object.assign({to:"/".concat(t.username),className:i.a.mark,style:d,innerRef:m},f),t.username||l):c.a.createElement("div",Object.assign({className:i.a.mark,style:d,ref:m},f),t.username||l))}},343:function(e,t,n){e.exports={container:"splittingLoader_container__2b2GN",loader:"splittingLoader_loader__Dn0CS"}},346:function(e,t,n){e.exports={closeButton:"closeButton_closeButton__3jQKl",closeIcon:"closeButton_closeIcon__1gQoO"}},347:function(e,t,n){e.exports={modalCover:"modal_modalCover__2TWkT",modalContent:"modal_modalContent__1YTdi"}},348:function(e,t,n){e.exports={loader:"loader_loader__VmrSc",center:"loader_center__15Zg_"}},349:function(e,t,n){e.exports={container:"markedUsers_container__35fPH",header:"markedUsers_header__1EJpK"}},350:function(e,t,n){e.exports={mark:"mark_mark__1xSqG"}},351:function(e,t,n){e.exports={container:"settings_container__lkxdg",filterName:"settings_filterName__qFZK4"}},352:function(e,t,n){e.exports={container:"errorBoundary_container__kfBlR",reloadButton:"errorBoundary_reloadButton__3y_eU"}},353:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(7),o=n(346),s=n.n(o),i=function(e){var t=e.closeModal;return r.a.createElement("button",{onClick:t,className:s.a.closeButton,"aria-label":"Close Modal"},r.a.createElement("svg",{className:s.a.closeIcon,viewBox:"0 0 40 40"},r.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"})))},u=n(347),l=n.n(u),f=function(e){var t=e.children,n=e.zIndex,o=e.onClose,s="f".concat((~~(1e8*Math.random())).toString(16));Object(a.useEffect)(function(){document.body.style.overflow="hidden";var e=function(e){27===e.keyCode&&o()};return document.addEventListener("keydown",e),function(){document.body.style.overflow="visible",document.removeEventListener("keydown",e)}},[]);return Object(c.createPortal)(r.a.createElement("aside",{style:{zIndex:n},className:l.a.modalCover,id:"modalCover".concat(s),onClick:function(e){var t=e.target.id;t!=="modalCover".concat(s)&&t!=="modalContent".concat(s)||o()}},r.a.createElement(i,{closeModal:o}),r.a.createElement("div",{className:l.a.modalContent,id:"modalContent".concat(s)},t)),document.body)};t.a=function(e){var t=e.children,n=e.onClose,a=e.zIndex,c=void 0===a?999:a,o=e.visible,s=void 0!==o&&o;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(f,{zIndex:c,onClose:n},t))}},354:function(e,t,n){"use strict";var a=n(22),r=n(1),c=n.n(r),o=n(555),s=n.n(o),i=n(355),u=function(e){var t=e.fetcher,n=e.children,o=e.initialPage,i=e.useWindow,u=e.isReverse,l=e.loader,f=Object(r.useState)(o),m=Object(a.a)(f,2),d=m[0],p=m[1],h=Object(r.useState)(0),v=Object(a.a)(h,2),b=v[0],g=v[1],_=Object(r.useRef)(0);Object(r.useEffect)(function(){0===o&&(_.current=0,p(o),g(0),O())},[t]);var O=function(){var e=_.current+1;(_.current===e||0===b||e<=b)&&(_.current=e,t(e).then(function(e){var t=e.page,n=e.lastPage;p(t),g(n)}))};return c.a.createElement(s.a,{pageStart:0,loadMore:O,hasMore:d<b,loader:l,isReverse:u,useWindow:i},n)};u.defaultProps={initialPage:0,useWindow:!0,isReverse:!1,loader:c.a.createElement(i.a,{key:"loader"})},t.a=u},355:function(e,t,n){"use strict";n(59);var a=n(17),r=n(348),c=n.n(r),o=n(1),s=n.n(o),i=function(e){var t=e.center,n=void 0!==t&&t,r=e.className;return s.a.createElement("div",{className:[c.a.loader,r,n?c.a.center:""].join(" ")},s.a.createElement(a.a,{type:"loading"}))};n.d(t,"a",function(){return i})},357:function(e,t,n){"use strict";n(1212);var a=n(563),r=n(1),c=n.n(r),o=(n(571),n(358)),s=(n(570),n(247)),i=(n(246),n(131)),u=(n(59),n(17)),l=n(133),f=n(134),m=n(137),d=n(135),p=n(168),h=n(136),v=n(37),b=n(167),g=n(1446),_=n(1447),O=n(95),j=n(363),E=(n(1190),n(565)),k=function(e){var t=e.getFieldDecorator,n=e.remember,a=e.onChange;return c.a.createElement(c.a.Fragment,null,t("remember",{valuePropName:"checked",initialValue:n})(c.a.createElement(E.a,{onChange:a},"Remember me")))},w=n(527),y=n(245),x=n.n(y),C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={loading:!1,remember:!0},n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.changeRemember=n.changeRemember.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"changeRemember",value:function(){this.setState(function(e){return{remember:!e.remember}})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props,a=n.form,r=n.dispatch,c=n.history,o=this.state.remember;a.validateFields(function(e,n){var a=n.username,s=n.password;e||(t.setState({loading:!0}),r.auth.loginAsync({username:a,password:s,remember:o}).then(function(){return c.push("/")}).catch(function(e){t.setState({loading:!1}),b.message.error(e.response.data.message)}))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=c.a.createElement(u.a,{type:"loading",style:{fontSize:24},spin:!0}),n=this.state.remember;return c.a.createElement(o.a,{spinning:this.state.loading,indicator:t},c.a.createElement("h1",{style:{textAlign:"center"}},"Login"),c.a.createElement(s.a,{onSubmit:this.handleSubmit},c.a.createElement(w.a,{getFieldDecorator:e}),c.a.createElement(j.a,{getFieldDecorator:e,validator:this.validateToNextPassword}),c.a.createElement(O.a,null,c.a.createElement("div",{className:x.a.rememberForgotContainer},c.a.createElement(k,{getFieldDecorator:e,remember:n,onChange:this.changeRemember}),c.a.createElement(g.a,{to:"/password-reset"},"Forgot password")),c.a.createElement("div",{className:x.a.loginRegisterContainer},c.a.createElement(i.a,{className:x.a.login,type:"primary",htmlType:"submit"},"Log in"),c.a.createElement(g.a,{to:"/register"},"Register now!")))))}}]),t}(c.a.Component),N=s.a.create()(Object(v.b)()(Object(_.a)(C))),S=n(239),B=n.n(S),I=n(166),L=n.n(I);t.a=function(e){var t=e.children,n=void 0===t?c.a.createElement(N,null):t;return c.a.createElement("div",{className:L.a.welcome},c.a.createElement("div",{className:L.a.companyInfo},c.a.createElement("div",{className:L.a.logoContainer},c.a.createElement("img",{src:B.a,width:42,height:42,alt:"logo"}),c.a.createElement("h1",{className:L.a.title},"Shuttle")),c.a.createElement("span",null,"Let's start with a progressive social network")),c.a.createElement(a.a,{className:L.a.card},n))}},359:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l});var a,r=n(562),c=n.n(r),o=n(107),s=c()("ws://localhost:3333"),i=function(e){return e.auth.user.id};o.a.subscribe(function(){if(a!==(a=i(o.a.getState()))){s.withJwtToken(localStorage.getItem("accessToken")).connect();var e="dialogs:".concat(a);s.subscribe(e).on("message",function(e){var t=e.type,n=e.message,r=window.location.href.split("/");t===u.MESSAGE&&n.owner_id!==a&&"messages"!==r[r.length-2]&&o.a.dispatch.auth.addUnreadDialog(n.owner_id)})}});var u={MESSAGE:1,CONNECTION:2,READ:3,IS_TYPING:4,ERROR:5,DELETE:6},l=function(){};t.a=s},360:function(e,t,n){"use strict";var a=n(353);n.d(t,"a",function(){return a.a})},361:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return o});var a=n(18),r=n(19),c=function(e,t){return a.a.get("".concat(r.a.search,"?username=").concat(e,"&page=").concat(t))},o=function(e,t){return a.a.get("".concat(r.a.privateSearch,"?username=").concat(e,"&page=").concat(t))}},362:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(242),o=n(349),s=n.n(o);t.a=function(e){var t=e.users,n=e.removeUser,a=e.onClickUser,o=e.className;return r.a.createElement("div",null,r.a.createElement("div",{className:s.a.header},"On this video"),r.a.createElement("div",{className:"".concat(s.a.container," ").concat(o)},t&&t.map(function(e){return r.a.createElement(c.a,{key:e.username,user:e,onClick:a,remove:n?function(){return n(e.username)}:void 0})})))}},363:function(e,t,n){"use strict";n(356);var a=n(197),r=(n(59),n(17)),c=n(1),o=n.n(c),s=n(95);t.a=function(e){var t=e.getFieldDecorator,n=e.fieldName,c=void 0===n?"password":n,i=e.validator;return o.a.createElement(s.a,null,t(c,{rules:[{required:!0,message:"Please input your password!"},{max:32,message:"Password must be less than 32 characters!"},{min:6,message:"Password must be at least 6 characters!"},{validator:i}]})(o.a.createElement(a.a,{prefix:o.a.createElement(r.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})))}},51:function(e,t,n){e.exports={settingsTitle:"settings_settingsTitle__2slq0",settingsContainer:"settings_settingsContainer__2up1j",linkStyle:"settings_linkStyle__25OTr",messagesLink:"settings_messagesLink__3PMJs settings_linkStyle__25OTr",notificationsLink:"settings_notificationsLink__yws0p settings_linkStyle__25OTr",settingsButton:"settings_settingsButton__3uxS_",logoutContainer:"settings_logoutContainer__8H1nK",logout:"settings_logout__11R-J",privateContainer:"settings_privateContainer__zLK5E settings_linkStyle__25OTr",user:"settings_user__28h9x",avatar:"settings_avatar__2n4RC"}},526:function(e,t,n){e.exports=n.p+"static/media/plane.7f40cbee.svg"},527:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(356);var a=n(197),r=(n(59),n(17)),c=n(1),o=n.n(c),s=n(95),i=function(e){var t=e.getFieldDecorator,n=e.fieldName,c=void 0===n?"username":n,i=e.initialValue,u=void 0===i?"":i,l=e.onChange;return o.a.createElement(s.a,null,t(c,{rules:[{required:!0,message:"Please input your username!"},{max:12,message:"Username must be less than 12 characters!"},{min:2,message:"Username must be at least 2 characters!"},{pattern:/^[a-z0-9]+$/,message:"Invalid username"}],initialValue:u})(o.a.createElement(a.a,{onChange:l,prefix:o.a.createElement(r.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})))}},529:function(e,t,n){"use strict";n(248);var a=n(123),r=n(22),c=n(1),o=n.n(c),s=n(37),i=n(360),u=(n(246),n(131)),l=n(549),f=n.n(l),m=function(e){var t=e.onClick;return o.a.createElement(u.a,{className:f.a.uploadButton,onClick:t,size:"small"},"New")},d=function(e){var t=e.onClick,n=e.trigger,a=void 0===n?o.a.createElement(m,null):n;return o.a.cloneElement(a,{onClick:t})},p=function(e){var t=e.loadMedia,n=e.trigger,a=Object(c.createRef)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{trigger:n,onClick:function(){a.current.value="",a.current.click()}}),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:t,accept:".jpg,.jpeg,.png,.mp4",ref:a}))},h=n(14),v=n.n(h),b=n(25),g=n(133),_=n(134),O=n(137),j=n(135),E=n(136),k=n(550),w=n.n(k),y=(n(1138),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={crop:{aspect:1,width:200,x:0,y:0}},n.onImageLoaded=function(e,t){n.imageRef=e},n.onCropComplete=function(e){n.makeClientCrop(e)},n.onCropChange=function(e){n.setState({crop:e})},n}return Object(E.a)(t,e),Object(_.a)(t,[{key:"makeClientCrop",value:function(){var e=Object(b.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:n=e.sent,this.props.setCroppedMedia({image:n,width:t.width,height:t.height});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,n){var a=this,r=document.createElement("canvas"),c=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e,t.x*c,t.y*o,t.width*c,t.height*o,0,0,t.width,t.height),new Promise(function(e,t){r.toBlob(function(t){t?(t.name=n,window.URL.revokeObjectURL(a.fileUrl),a.fileUrl=window.URL.createObjectURL(t),e(a.fileUrl)):console.error("Image crop error. Canvas is empty")},"image/jpeg")})}},{key:"render",value:function(){var e=this.state.crop;return o.a.createElement(w.a,{src:this.props.src,crop:e,minWidth:200,minHeight:200,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})}}]),t}(c.PureComponent)),x=n(536),C=function(e){var t=e.media,n=e.setCroppedMedia;return t.type.match("image")?o.a.createElement(y,{src:URL.createObjectURL(t),setCroppedMedia:n}):o.a.createElement(x.a,{src:URL.createObjectURL(t)})},N=function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then(function(e){return e.blob()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=n(26),B=n(73),I=n(520),L=n.n(I),R=n(83),A=n(530),P=n(534),F=n(130),T=n.n(F),U=o.a.memo(function(e){var t=e.media,n=e.video;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement("video",{src:URL.createObjectURL(t),className:T.a.media}):o.a.createElement("img",{className:T.a.media,src:t,alt:"Mini filtered"}))}),M=function(e){var t=e.upload,n=e.media,s=e.goBack,i=e.video,u=void 0!==i&&i,l=Object(c.useState)(!1),f=Object(r.a)(l,2),m=f[0],d=f[1],p=Object(c.useState)([]),h=Object(r.a)(p,2),v=h[0],b=h[1],g=Object(c.useState)(""),_=Object(r.a)(g,2),O=_[0],j=_[1],E=Object(c.useState)(""),k=Object(r.a)(E,2),w=k[0],y=k[1],x=Object(c.useCallback)(function(e){var t=e.target.value;t.length<=1e3&&j(t),1e3===t.length&&a.a.warning("Caption must must not exceed 1000 characters")},[]);return o.a.createElement(o.a.Fragment,null,m?o.a.createElement(A.a,{goBack:function(e){b(e),d(!1)},media:u?URL.createObjectURL(n):n,marks:v,video:u}):o.a.createElement(R.a,null,o.a.createElement(B.a,{goNext:function(){t({caption:O,marks:v,location:w})},goBack:s,title:"New post",nextButtonText:"Post"}),o.a.createElement("div",{className:T.a.container},o.a.createElement("div",{className:T.a.imageContainer},o.a.createElement(U,{media:n,video:u}),o.a.createElement(L.a,{maxRows:8,className:T.a.caption,onChange:x,value:O,placeholder:"Caption",maxLength:1e3})),o.a.createElement(P.a,{onChange:y}),o.a.createElement("button",{className:T.a.button,onClick:function(){d(!0)}},"Mark friends"))))},z=n(556),D=n(557),W=n.n(D),q=function(e){var t=Object(z.a)({},e);return o.a.createElement("input",Object.assign({type:"range",className:W.a.slider},t))},V=n(351),X=n.n(V),G=o.a.memo(function(e){var t=e.onChange,n=e.settings;return o.a.createElement("div",{className:X.a.container},n.map(function(e,n){return o.a.createElement("label",{key:n},o.a.createElement("span",{className:X.a.filterName},e.name),o.a.createElement("span",null,e.value),function(e,t){switch(e.name){case"contrast":return o.a.createElement(q,{step:"1",min:"0",max:"200",id:e.name,onChange:t,defaultValue:e.value});case"hue":return o.a.createElement(q,{step:"1",min:"0",max:"360",id:e.name,onChange:t,defaultValue:e.value});case"brightness":return o.a.createElement(q,{step:"1",min:"0",max:"200",id:e.name,onChange:t,defaultValue:e.value});case"saturate":case"sepia":case"invert":case"grayscale":case"blur":case"opacity":return o.a.createElement(q,{step:"1",min:"0",max:"100",id:e.name,onChange:t,defaultValue:e.value});default:return o.a.createElement(q,null)}}(e,t))}))}),H=n(128),J=n.n(H),Y=function(e){var t=e.filter,n=e.media,a=e.imageRef,r=e.rotateAngel,c={transform:"rotate(".concat(r,"deg)"),filter:t};return o.a.createElement("img",{ref:a,className:J.a.media,src:n,style:c,alt:"Filtered"})},Z=n(558),K=n.n(Z),Q=n(559),$=n.n(Q),ee=[{name:"contrast",value:"100%"},{name:"hue",value:"0deg"},{name:"brightness",value:"100%"},{name:"saturate",value:"100%"},{name:"sepia",value:"0%"},{name:"invert",value:"0%"},{name:"blur",value:"0px"},{name:"opacity",value:"100%"}],te=function(e){return"\n  contrast(".concat(e[0].value,") \n  hue-rotate(").concat(e[1].value,") \n  brightness(").concat(e[2].value,") \n  saturate(").concat(e[3].value,") \n  sepia(").concat(e[4].value,") \n  invert(").concat(e[5].value,") \n  blur(").concat(e[6].value,") \n  opacity(").concat(e[7].value,")\n  ")},ne=function(e){var t=e.media,n=e.goBack,a=e.upload,s=Object(c.useState)(ee),i=Object(r.a)(s,2),u=i[0],l=i[1],f=Object(c.useState)(null),m=Object(r.a)(f,2),d=m[0],p=m[1],h=Object(c.useState)(!1),g=Object(r.a)(h,2),_=g[0],O=g[1],j=Object(c.useState)(0),E=Object(r.a)(j,2),k=E[0],w=E[1],y=Object(c.useRef)(null),x=function(){var e=Object(b.a)(v.a.mark(function e(){var n,a,r,c,o,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("canvas"),a=n.getContext("2d"),n.width=t.width,n.height=t.height,a.filter=te(u),r=.5*n.width,c=.5*n.height,a.translate(r,c),a.rotate(k*(Math.PI/180)),a.translate(-r,-c),e.next=12,N(t.image);case 12:o=e.sent,(s=new Image).src=window.URL.createObjectURL(o),s.onload=function(){a.drawImage(s,0,0),p(n.toDataURL())};case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:O(!0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,_?o.a.createElement(M,{upload:function(e){var t=e.caption,n=e.location,r=e.marks;a({image:d,settings:u,caption:t,location:n,marks:r})},goBack:function(){O(!1)},media:d}):o.a.createElement(R.a,null,o.a.createElement(B.a,{goNext:C,goBack:n,title:"Filters",nextButtonText:"Finish"}),o.a.createElement("div",{className:J.a.wrapper},o.a.createElement(Y,{imageRef:y,media:t.image,filter:te(u),rotateAngel:k}),o.a.createElement("div",{className:J.a.iconsContainer},o.a.createElement("img",{title:"Rotate left",className:J.a.icon,src:K.a,onClick:function(){w(k-90)},alt:"Rotate left 90 degrees"}),o.a.createElement("img",{title:"Rotate right",className:J.a.icon,src:$.a,onClick:function(){w(k+90)},alt:"Rotate right 90 degrees"})),o.a.createElement(G,{settings:u,url:t.image,onChange:function(e){var t=e.target.id,n=e.target.value;switch(t){case"contrast":u[0].value=n+"%",l(Object(S.a)(u));break;case"hue":u[1].value=n+"deg",l(Object(S.a)(u));break;case"brightness":u[2].value=n+"%",l(Object(S.a)(u));break;case"saturate":u[3].value=n+"%",l(Object(S.a)(u));break;case"sepia":u[4].value=n+"%",l(Object(S.a)(u));break;case"invert":u[5].value=n+"%",l(Object(S.a)(u));break;case"blur":u[6].value=n+"px",l(Object(S.a)(u));break;case"opacity":u[7].value=n+"%",l(Object(S.a)(u))}}}))))},ae=Object(s.b)(function(e){return{currentAuthUsername:e.auth.user.username}})(function(e){var t=e.upload,n=e.media,a=Object(c.useState)(),s=Object(r.a)(a,2),i=s[0],u=s[1],l=Object(c.useState)("CROP"),f=Object(r.a)(l,2),m=f[0],d=f[1],p=function(){var e=Object(b.a)(v.a.mark(function e(a){var r,c,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.type.match("image")?"image/jpeg":"video/mp4",!n.type.match("image")){e.next=7;break}return e.next=4,N(a.image);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=n;case 8:c=e.t0,(o=new FormData).append("media",new File([c],"media",{type:r})),o.append("caption",a.caption),o.append("location",a.location),o.append("marks",JSON.stringify(a.marks)),t(o);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(){d("CROP")};if(n)switch(m){case"CROP":return o.a.createElement(R.a,{style:{height:"fit-content"}},n.type.match(".mp4")?o.a.createElement(B.a,{title:"New post",goNext:function(){d("FINISH")},nextButtonText:"Post"}):o.a.createElement(B.a,{title:"New post",goNext:function(){d("FILTERS")},nextButtonText:"Next"}),o.a.createElement(C,{media:n,setCroppedMedia:u}));case"FILTERS":return o.a.createElement(ne,{media:i,upload:p,goBack:h});case"FINISH":return o.a.createElement(M,{upload:p,goBack:h,media:n,video:!0})}}),re=Object(s.b)()(function(e){var t=e.dispatch,n=e.trigger,s=Object(c.useState)(!1),u=Object(r.a)(s,2),l=u[0],f=u[1],m=Object(c.useState)(!1),d=Object(r.a)(m,2),h=d[0],v=d[1],b=function(){return f(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{visible:l,onClose:b},o.a.createElement(ae,{media:h,upload:function(e){t.posts.create(e).then(function(e){return a.a.success(e.message)}),b()}})),o.a.createElement(p,{loadMedia:function(e){e.target.files[0].size>10485760?a.a.warn("File must be less than 10 MB"):(f(!0),v(e.target.files[0]))},trigger:n}))});n.d(t,"a",function(){return re})},530:function(e,t,n){"use strict";var a=n(50),r=n(1),c=n.n(r),o=n(26),s=n(22),i=n(224),u=n(160),l=n(83),f=n(73),m=n(196),d=n(242),p=n(244),h=n.n(p),v=function(e){var t=e.users,n=e.addUser,a=e.fetcher;return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement("div",{className:h.a.container},c.a.createElement(m.a,{fetcher:a},c.a.createElement("div",{className:h.a.list},t.map(function(e){return c.a.createElement(d.a,{user:e,key:e.id,onClick:function(t){t.preventDefault(),n(e)}})}))),0===t.length&&c.a.createElement("div",{className:h.a.nothingToShow},"Nothing to show")))},b=n(362),g=n(77),_=n.n(g),O=function(e){var t=e.marks,n=e.goBack,a=e.media,m=Object(r.useState)(t),d=Object(s.a)(m,2),p=d[0],h=d[1],g=Object(r.useState)(null),O=Object(s.a)(g,2),j=O[0],E=O[1],k=Object(u.a)(),w=k.users,y=k.search,x=k.resetSearch,C=function(e){h(p.filter(function(t){return t.username!==e}))};return c.a.createElement(l.a,{style:{height:"fit-content"}},c.a.createElement(f.a,{goBack:function(){n()},goNext:function(){n(p.map(function(e){return{username:e.username}}))},nextButtonText:"Done",title:"Mark friends"}),c.a.createElement("div",{className:_.a.searchContainer},c.a.createElement(i.a,{className:_.a.searchInput,search:function(e){e.length>0?E(function(){return function(t){return y(e,t)}}):(x(),E(null))},disabled:p.length>=10}),c.a.createElement(v,{users:w,addUser:function(e){var t=e.id,n=e.username,a=e.avatar;-1===p.findIndex(function(e){return e.username===n})&&p.push({id:t,username:n,avatar:a}),h(Object(o.a)(p)),x(),E(null)},removeUser:C,fetcher:j})),c.a.createElement("div",{className:_.a.container},c.a.createElement("video",{className:_.a.media,src:a}),p&&p.length>0&&c.a.createElement(b.a,{users:p,removeUser:C,className:_.a.markedUsersContainer,onClickUser:function(e){return e.preventDefault()}})))},j=n(13),E=(n(248),n(123)),k=n(330),w=function(e){var t=e.marks,n=e.goBack,a=e.media,m=Object(r.useState)(null),d=Object(s.a)(m,2),p=d[0],h=d[1],b=Object(r.useState)(t),g=Object(s.a)(b,2),O=g[0],w=g[1],y=Object(r.useState)(null),x=Object(s.a)(y,2),C=x[0],N=x[1],S=Object(u.a)(),B=S.users,I=S.search,L=S.resetSearch,R=function(e){w(O.filter(function(t){return t.username!==e}))};return c.a.createElement(l.a,{style:{height:"fit-content"}},c.a.createElement(f.a,{goBack:function(){n(O)},goNext:function(){n(O)},nextButtonText:"Done",title:"Mark friends"}),c.a.createElement("div",{className:_.a.searchContainer},p&&O.length<=10&&c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{className:_.a.searchInput,search:function(e){e.length>0?N(function(){return function(t){return I(e,t)}}):(L(),N(null))}}),c.a.createElement(v,{users:B,addUser:function(e){var t=e.username,n=O.findIndex(function(e){return e.username===t});-1!==n?O[n]=Object(j.a)({},O[n],p):O.push(Object(j.a)({},p,{username:t})),w(Object(o.a)(O)),h(null),L(),N(null)},removeUser:R,fetcher:C}))),c.a.createElement("div",{className:_.a.container},c.a.createElement("img",{src:a,onClick:function(e){if(O.length<10){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;h({top:a/(t.height/100),left:n/(t.width/100)})}else E.a.warning("Mark count must be less than 10")},className:_.a.media,alt:"Post"}),p&&c.a.createElement(k.a,{mark:p}),O&&O.map(function(e){return c.a.createElement(k.a,{key:e.username,mark:e,onClick:function(){return R(e.username)}})})))},y=function(e){var t=e.video,n=Object(a.a)(e,["video"]);return c.a.createElement(c.a.Fragment,null,t?c.a.createElement(O,n):c.a.createElement(w,n))};n.d(t,"a",function(){return y})},532:function(e,t,n){"use strict";var a=n(22),r=n(1),c=n.n(r),o=(n(574),n(519)),s=(n(679),n(548)),i=n(51),u=n.n(i),l=(n(59),n(17)),f=n(37),m=Object(f.b)()(function(e){var t=e.dispatch,n=Object(r.useState)(!1),o=Object(a.a)(n,2),s=o[0],i=o[1];return c.a.createElement("div",{className:u.a.logoutContainer},c.a.createElement("button",{className:u.a.logout,onClick:function(){i(!0),t.auth.logoutAsync().finally(function(){return i(!1)})}},"Logout"),s&&c.a.createElement(l.a,{type:"loading"}))}),d=n(167),p=n(1446),h=n(94),v=Object(f.b)(function(e){return{isPrivate:e.auth.user.private,username:e.auth.user.username,avatar:e.auth.user.avatar,notificationsCount:e.auth.user.notificationsCount,countOfUnreadMessages:e.auth.user.unreadDialogs&&e.auth.user.unreadDialogs.length}})(function(e){var t=e.isPrivate,n=e.username,a=e.avatar,r=e.countOfUnreadMessages,o=e.notificationsCount,i=e.close,l=e.dispatch;return c.a.createElement("ul",{className:u.a.settingsContainer},c.a.createElement("li",null,c.a.createElement(p.a,{to:"/"+n,onClick:i,className:u.a.user},a?c.a.createElement("img",{src:a,alt:"avatar",className:u.a.avatar}):c.a.createElement("div",{className:u.a.avatar},c.a.createElement(h.a,{fontSize:"16px"})),c.a.createElement("span",null,n))),c.a.createElement("li",null,c.a.createElement(p.a,{to:"/posts/archive",className:u.a.linkStyle},"Archive")),c.a.createElement("li",null,c.a.createElement(p.a,{to:"/posts/liked",className:u.a.linkStyle},"Liked")),c.a.createElement("li",null,c.a.createElement(p.a,{to:"/u/messages",className:u.a.messagesLink,countofunreadmessages:r},"Messages")),c.a.createElement("li",null,c.a.createElement(p.a,{to:"/account/blacklist",className:u.a.linkStyle},"Blacklist")),c.a.createElement("li",null,c.a.createElement(p.a,{to:"/account/notifications",className:u.a.notificationsLink,countofunreadnotifications:o},"Notifications")),c.a.createElement("li",{className:u.a.privateContainer},c.a.createElement("span",null,"Private account"),c.a.createElement(s.a,{defaultChecked:!!t,size:"small",onChange:function(e){(e?l.users.setPrivateAsync():l.users.setPublicAsync()).then(function(e){return d.message.success(e)}).catch(function(e){d.message.success(e)})}})),c.a.createElement(m,null))}),b=function(){return c.a.createElement("div",null,c.a.createElement(l.a,{type:"setting"}),c.a.createElement("span",{className:u.a.settingsTitle},"Settings"))},g=function(e){var t=e.visible,n=e.onClose;return c.a.createElement(o.a,{title:c.a.createElement(b,null),placement:"right",closable:!1,onClose:n,visible:t},c.a.createElement(v,{close:n}))};t.a=c.a.memo(function(e){var t=e.trigger,n=Object(r.useState)(!1),o=Object(a.a)(n,2),s=o[0],i=o[1];return c.a.createElement(c.a.Fragment,null,c.a.cloneElement(t,{onClick:function(){return i(!0)}}),c.a.createElement(g,{visible:s,onClose:function(){return i(!1)}}))})},534:function(e,t,n){"use strict";n(1172);var a=n(569),r=(n(59),n(17)),c=n(22),o=n(1),s=n.n(o),i=n(19),u=n(92),l=n.n(u),f=s.a.memo(function(e){var t=e.defaultLocation,n=void 0===t?"":t,u=e.onChange,f=Object(o.useState)(!!n),m=Object(c.a)(f,2),d=m[0],p=m[1],h=Object(o.useState)(null),v=Object(c.a)(h,2),b=v[0],g=v[1],_=Object(o.useState)(n),O=Object(c.a)(_,2),j=O[0],E=O[1];Object(o.useEffect)(function(){fetch("https://api.ipify.org?format=json").then(function(e){e.json().then(function(e){var t;(t=e.ip,fetch("http://api.ipstack.com/".concat(t,"?access_key=").concat(i.b))).then(function(e){e.json().then(function(e){g([e.continent_name,e.country_name,e.region_name,e.city].filter(Boolean))})}).catch(function(){g([])})})})},[]);var k=function(e){u(e),E(e)},w=function(e){k(e.target.textContent)};return s.a.createElement(s.a.Fragment,null,d||n?s.a.createElement("div",{className:l.a.container},s.a.createElement(r.a,{type:"close",className:l.a.closeButton,onClick:function(){p(!1),k(n)}}),s.a.createElement("label",{className:l.a.label},"Place",s.a.createElement("input",{placeholder:"Enter your location",className:l.a.inputLocation,onChange:function(e){return k(e.target.value)},value:j,maxLength:100})),s.a.createElement("div",{className:l.a.recommendedContainer},"Recommended",s.a.createElement("div",{className:l.a.locations},b?b.map(function(e){return s.a.createElement(a.a,{className:l.a.location,key:e,onClick:w},e)}):s.a.createElement(r.a,{type:"loading",fontSize:12})))):s.a.createElement("button",{className:l.a.button,onClick:function(){p(!0)}},"Add place"))});n.d(t,"a",function(){return f})},536:function(e,t,n){"use strict";var a=n(22),r=n(1),c=n.n(r),o=n(551),s=n.n(o),i=c.a.memo(function(e){var t=e.src,n=e.muted,o=e.autoPlay,i=Object(r.useState)(!1),u=Object(a.a)(i,2),l=u[0],f=u[1],m=Object(r.useRef)(null);return Object(r.useEffect)(function(){if(o){new IntersectionObserver(function(e){e.forEach(function(e){f(e.isIntersecting)})}).observe(m.current)}},[]),Object(r.useEffect)(function(){l?m.current.play():m.current.pause()},[l]),c.a.createElement("video",{src:t,ref:m,className:s.a.video,loop:"loop",preload:"metadata",muted:n,controls:!0})});i.defaultProps={autoPlay:!1,muted:!1};var u=i;n.d(t,"a",function(){return u})},539:function(e,t,n){e.exports={avatar:"avatar_avatar__1_ZIM"}},549:function(e,t,n){e.exports={uploadButton:"uploader_uploadButton__3yvLY"}},551:function(e,t,n){e.exports={video:"videoPlayer_video__UmsGg"}},552:function(e,t,n){e.exports={container:"container_container__3LZK0"}},553:function(e,t,n){e.exports={searchContainer:"searchInput_searchContainer__3Z2BO"}},557:function(e,t,n){e.exports={slider:"range_slider__3GXpB"}},558:function(e,t,n){e.exports=n.p+"static/media/rotate-left.7cf6823d.svg"},559:function(e,t,n){e.exports=n.p+"static/media/rotate-right.e2447fad.svg"},560:function(e,t,n){e.exports={searchBar:"searchBar_searchBar__28LQt"}},561:function(e,t,n){e.exports={container:"startLoader_container__CuM0k","right-1":"startLoader_right-1__B9iyj","right-2":"startLoader_right-2__3hHrd","right-3":"startLoader_right-3__2t2N1","right-4":"startLoader_right-4__3m8Bf","right-5":"startLoader_right-5__1Xqrc"}},578:function(e,t,n){e.exports=n(1198)},579:function(e,t,n){},581:function(e,t,n){},66:function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"m",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return i}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"n",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"h",function(){return g});var a=n(18),r=n(19),c=function(e){return a.a.get("".concat(r.a.users,"?username=").concat(e))},o=function(e){return a.a.patch(r.a.users,e)},s=function(e,t){return a.a.get("".concat(r.a.users,"/followers?id=").concat(e,"&page=").concat(t))},i=function(e,t){return a.a.get("".concat(r.a.users,"/follows?id=").concat(e,"&page=").concat(t))},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.a.get("".concat(r.a.users,"/followersSearch?user_id=").concat(e,"&username=").concat(t,"&page=").concat(n))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.a.get("".concat(r.a.users,"/followsSearch?user_id=").concat(e,"&username=").concat(t,"&page=").concat(n))},f=function(e){return a.a.get("".concat(r.a.users,"/unique?username=").concat(e))},m=function(e){return a.a.put("".concat(r.a.users,"/avatar"),e,{headers:{"Content-Type":"multipart/form-data"}})},d=function(){return a.a.delete("".concat(r.a.users,"/avatar"))},p=function(){return a.a.post("".concat(r.a.users,"/privacy"))},h=function(){return a.a.delete("".concat(r.a.users,"/privacy"))},v=function(e){return a.a.get("".concat(r.a.users,"/blacklist?page=").concat(e))},b=function(e){return a.a.post("".concat(r.a.users,"/blacklist"),e)},g=function(e){return a.a.delete("".concat(r.a.users,"/blacklist?id=").concat(e))}},72:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"j",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"n",function(){return i}),n.d(t,"g",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"m",function(){return m}),n.d(t,"l",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"k",function(){return b}),n.d(t,"e",function(){return g});var a=n(18),r=n(19),c=function(e){return a.a.post(r.a.posts,e,{headers:{"Content-Type":"multipart/form-data"}})},o=function(e){return a.a.delete("".concat(r.a.posts,"?id=").concat(e))},s=function(e){return function(t){return a.a.get("".concat(r.a.posts,"?owner_id=").concat(e,"&page=").concat(t))}},i=function(e){return a.a.patch(r.a.posts,e)},u=function(e){return a.a.get("".concat(r.a.posts,"/").concat(e))},l=function(e){return function(t){return a.a.get("".concat(r.a.compilations,"/posts?compilation=").concat(e,"&page=").concat(t))}},f=function(e){return function(t){return a.a.get("".concat(r.a.posts,"/marked?user_id=").concat(e,"&page=").concat(t))}},m=function(e){return a.a.post("".concat(r.a.posts,"/save"),e)},d=function(e){return a.a.delete("".concat(r.a.posts,"/save?post_id=").concat(e))},p=function(e){return a.a.get("".concat(r.a.posts,"/archive?page=").concat(e))},h=function(e){return a.a.get("".concat(r.a.posts,"/liked?page=").concat(e))},v=function(e){return a.a.post("".concat(r.a.posts,"/archive"),{post_id:e})},b=function(e){return a.a.delete("".concat(r.a.posts,"/archive?post_id=").concat(e))},g=function(e,t){return a.a.get("".concat(r.a.posts,"/likes?post_id=").concat(e,"&page=").concat(t))}},73:function(e,t,n){"use strict";n(59);var a=n(17),r=n(1),c=n.n(r),o=n(194),s=n.n(o),i=function(e){var t=e.goNext,n=e.goBack,o=e.title,i=e.nextButtonText,u=e.withEnter,l=void 0===u||u;return Object(r.useEffect)(function(){if(l&&t&&"function"===typeof t){var e=function(e){"Enter"===e.key&&t()};return document.body.addEventListener("keydown",e),function(){document.body.removeEventListener("keydown",e)}}},[]),c.a.createElement("div",{className:s.a.container},n&&c.a.createElement(a.a,{type:"arrow-left",onClick:n,className:s.a.back}),c.a.createElement("span",{className:s.a.title},o),t&&c.a.createElement("button",{onClick:t,className:s.a.next,type:"submit"},i))};n.d(t,"a",function(){return i})},77:function(e,t,n){e.exports={container:"marks_container__1ylA9",searchContainer:"marks_searchContainer__2URsM",media:"marks_media__12GzE",searchInput:"marks_searchInput__WWkZ8",markedUsersContainer:"marks_markedUsersContainer__1RBut"}},78:function(e,t,n){e.exports={usersList:"styles_usersList__1XMf2",container:"styles_container__SEEow",user:"styles_user__283CY",userInfo:"styles_userInfo__31Kfp",username:"styles_username__2-PG2",bio:"styles_bio__1_BoO",avatar:"styles_avatar__2xPk5",nothingToShow:"styles_nothingToShow__Pcky7"}},83:function(e,t,n){"use strict";var a=n(50),r=n(1),c=n.n(r),o=n(552),s=n.n(o),i=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return c.a.createElement("div",Object.assign({onSubmit:console.log,className:s.a.container},n),t)};n.d(t,"a",function(){return i})},91:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return e.map(function(e){return e.hasOwnProperty("__meta__")&&(Object.keys(e.__meta__).forEach(function(t){return e[t]=e.__meta__[t]}),delete e.__meta__),e})}},92:function(e,t,n){e.exports={label:"location_label__1zVjk",inputLocation:"location_inputLocation__1S5gd",recommendedContainer:"location_recommendedContainer__18uwh",locations:"location_locations__lOydL",location:"location_location__1_vaD",button:"location_button__2X5jA",container:"location_container__1vdxk",closeButton:"location_closeButton__kUrRh"}},93:function(e,t,n){e.exports={header:"header_header__1Nyxt",avatar:"header_avatar__HvVZQ",logo:"header_logo__3Pv2y",username:"header_username__1ITYL",rightContainer:"header_rightContainer__349jz",messagesLink:"header_messagesLink__2jogD",messagesIcon:"header_messagesIcon__g2WZJ"}},94:function(e,t,n){"use strict";n(59);var a=n(17),r=n(50),c=n(1),o=n.n(c),s=n(539),i=n.n(s),u=function(e){var t=e.fontSize,n=void 0===t?"50px":t,c=e.color,s=void 0===c?"#3ea1fd":c,u=e.className,l=Object(r.a)(e,["fontSize","color","className"]);return o.a.createElement("div",Object.assign({className:"".concat(i.a.avatar," ").concat(u)},l),o.a.createElement(a.a,{type:"user",style:{fontSize:n,color:s}}))};n.d(t,"a",function(){return u})}},[[578,21,18]]]);
//# sourceMappingURL=main.d0dd252b.chunk.js.map